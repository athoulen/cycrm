<div class="addgd">
<tipalert></tipalert>
<form role="form" name="myForm" ng-submit="submitForm(submitted)" class="form-horizontal" novalidate>
    <h1 class="th1">
        <span class='thtext'>新增工单</span>
        <div class="thbtn">
            <button type="button" class="btn btn-default" ui-sref='home.gd'>取消</button>
            <button class="btn btn-default" type="submit">保存</button>
        </div>
    </h1>
    <div class="addgd_main">
        <div class="nav col-sm-4">
            <h2>工单</h2>
            <!-- <div class="form-group" ng-repeat='x in mb_select'>
                <label class="col-sm-4 control-label text_left" ng-bind='x.names'></label>
                <div class="col-sm-8">
                    <select class="form-control" ng-model='modles[$index]' ng-change='mbSelectChange(e)'>
                        <option ng-repeat='y in x.list' value='{{y}}' ng-bind='y'></option>
                    </select>
                </div>
            </div> -->
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">状态</label>
                <div class="col-sm-8">
                    <select class="form-control" ng-model='user.priority'>
                        <option value="">--请选择--</option>
                        <option value='{{x}}' ng-repeat='x in priority' ng-bind='x'></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">优先级</label>
                <div class="col-sm-8">
                    <select class="form-control" ng-model='user.customer'>
                        <option value="">--请选择--</option>
                        <option value='{{x}}' ng-repeat='x in customer' ng-bind='x'></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">渠道</label>
                <div class="col-sm-8">
                    <select class="form-control" ng-model='user.qd'>
                        <option value="">--请选择--</option>
                        <option value='{{x}}' ng-repeat='x in qd' ng-bind='x'></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">客服</label>
                <div class="col-sm-8">
                    <select class="form-control" ng-model='user.slkf'>
                        <option value="">--请选择--</option>
                        <option value='{{x}}' ng-repeat='x in slkf' ng-bind='x'></option>
                    </select>
                </div>
            </div>
            <h2>客户信息</h2>
            <!-- <div class="form-group" ng-repeat='x in mb_input'>
                <label class="col-sm-4 control-label text_left" ng-bind='x.names'></label>
                <div class="col-sm-8">
                    <input class="form-control" type="text" />
                </div>
            </div> -->
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">*姓名</label>
                <div class="col-sm-8">
                    <input class="form-control" name="name" type="text" ng-model='user.name' required/>
                    <span class='wrong_icon' ng-show="myForm.name.$error.required && myForm.submitted">用户名是必须的</span>
                    <!-- <span style="color:red" ng-show="myForm.name.$dirty && myForm.name.$invalid">
                      <span ng-show="myForm.name.$error.required">用户名是必须的。</span>
                    </span> -->
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">手机号码</label>
                <div class="col-sm-8">
                    <input class="form-control" type="text" name="phonum" ng-model="user.phonum" maxlength='11' ng-pattern="/^1[34578]\d{9}$/"/>
                    <span class='wrong_icon' ng-show="myForm.phonum.$error.pattern">手机号码格式不正确</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">邮箱</label>
                <div class="col-sm-8">
                   <input class="form-control" type="email" name='email' ng-model='user.email'>
                   <span class='wrong_icon' ng-show="myForm.email.$error.email">邮箱格式不正确</span>
                </div>
            </div>
            <h2>公司信息</h2>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">公司名称</label>
                <div class="col-sm-8">
                   <input class="form-control" type="text" ng-model='user.companyName'>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label text_left">公司网址</label>
                <div class="col-sm-8">
                    <input class="form-control" type="url" name="url" ng-model="user.url"/>
                    <span class='wrong_icon' ng-show="myForm.url.$error.url">公司网址格式不正确</span>
                </div>
            </div>
        </div>  
        <div class="view_addgd col-sm-8">
            <div class="form-group">
                <label class="col-sm-2 control-label">*工单标题</label>
                <div class="col-sm-10">
                    <input class="form-control" name="gdname" type="text" ng-model='user.gdname' required/>
                    <span class='wrong_icon' ng-show="myForm.gdname.$error.required && myForm.submitted">工单标题是必须的</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">描述内容</label>
                <div class="col-sm-10">
                    <textarea class="form-control" rows="3" ng-model='user.gdms'></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">工单模板</label>
                <div class="col-sm-10">
                    <select class="form-control" ng-model="gdmbValue" ng-change='gdmbChange()'>
                        <option value='{{x}}' ng-repeat='x in mb' ng-bind='x' ng-click='gdmbClick(x)'></option>
                    </select>
                </div>
            </div>
            <div class="form-group" id='gdmb_list' ng-show='gdmb_list'>
                <div class="col-sm-2"></div>
                <div class="col-sm-10">
                    <div class="row">
                        <div class="form-group col-sm-5" ng-repeat='x in mb_select'>
                            <label class="col-sm-4 control-label text_left" ng-bind='x.names'></label>
                            <div class="col-sm-8">
                                <select class="form-control">
                                    <option value="" ng-repeat='y in x.list' ng-bind='y'></option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group col-sm-5" ng-repeat='x in mb_input'>
                            <label class="col-sm-4 control-label text_left" ng-bind='x.names'></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>    
</form> 
</div>